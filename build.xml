<project default="Pacemaker">
    <target name="Pacemaker">
        <delete file="Pacemaker.jar"></delete>
        <delete file="PacemakerTest.jar"></delete>
        <delete file="PacemakerWizard.jar"></delete>
    <mkdir dir="bin/"/>
        <tstamp>
            <format property="TODAY" pattern="yyyy-MM-dd HH:mm:ss" />
        </tstamp>

        <javac srcdir="src" destdir="bin" includeantruntime="false" classpath="lib/slf4j-1.7.5/slf4j-api-1.7.5.jar;lib/logback-1.0.13/logback-core-1.0.13.jar;lib/logback-1.0.13/logback-classic-1.0.13.jar;lib/jna-3.5.1.jar;lib/purejavacomm.jar"/>
        <jar destfile="Pacemaker.jar" update="false">
            <fileset dir="bin">
                <include name="**/*.class" />
            </fileset>
            <manifest>
                <attribute name="Main-Class" value="de.nomagic.printerController.ControllerMain" />
                <attribute name="Class-Path" value="lib/slf4j-1.7.5/slf4j-api-1.7.5.jar lib/logback-1.0.13/logback-core-1.0.13.jar lib/logback-1.0.13/logback-classic-1.0.13.jar lib/jna-3.5.1.jar lib/purejavacomm.jar"/>
                <attribute name="Built-By" value="${user.name}"/>
                <attribute name="Built-Date" value="${TODAY}"/>
            </manifest>
        </jar>

        <jar destfile="PacemakerTest.jar" update="false">
            <fileset dir="bin">
                <include name="**/*.class" />
            </fileset>
            <manifest>
                <attribute name="Main-Class" value="de.nomagic.test.pacemaker.ClientMain" />
                <attribute name="Class-Path" value="lib/slf4j-1.7.5/slf4j-api-1.7.5.jar lib/logback-1.0.13/logback-core-1.0.13.jar lib/logback-1.0.13/logback-classic-1.0.13.jar"/>
                <attribute name="Built-By" value="${user.name}"/>
                <attribute name="Built-Date" value="${TODAY}"/>
            </manifest>
        </jar>

        <jar destfile="PacemakerWizard.jar" update="false">
            <fileset dir="bin">
                <include name="**/*.class" />
            </fileset>
            <manifest>
                <attribute name="Main-Class" value="de.nomagic.printerController.printerConfigurationCreationWizard.WizardMain" />
                <attribute name="Class-Path" value="lib/slf4j-1.7.5/slf4j-api-1.7.5.jar lib/logback-1.0.13/logback-core-1.0.13.jar lib/logback-1.0.13/logback-classic-1.0.13.jar lib/jna-3.5.1.jar lib/purejavacomm.jar . "/>
                <attribute name="Built-By" value="${user.name}"/>
                <attribute name="Built-Date" value="${TODAY}"/>
            </manifest>
        </jar>
        <jar destfile="PacemakerTerminal.jar" update="false">
            <fileset dir="bin">
                <include name="**/*.class" />
            </fileset>
            <manifest>
                <attribute name="Main-Class" value="de.nomagic.printerController.terminal.TerminalMain" />
                <attribute name="Class-Path" value="lib/slf4j-1.7.5/slf4j-api-1.7.5.jar lib/logback-1.0.13/logback-core-1.0.13.jar lib/logback-1.0.13/logback-classic-1.0.13.jar lib/jna-3.5.1.jar lib/purejavacomm.jar . "/>
                <attribute name="Built-By" value="${user.name}"/>
                <attribute name="Built-Date" value="${TODAY}"/>
            </manifest>
        </jar>
    </target>
</project>
